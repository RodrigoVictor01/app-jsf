<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core">
<h:head>
    <title>Listagem de Pessoas</title>

    <style>
        .button-calc {
            background-color: #4C65Ad;
            color: #FFF;
            font-weight: bold;
            border-radius: 8px;
            padding: 15px 32px;
            text-align: center;
            font-size: 16px;
            margin: 4px 2px;
            cursor: pointer;
        }

        .success-message {
            background-color: #4CAF50;
            font-weight: bold;
            color: #FFF;
        }
    </style>

</h:head>
<h:body>
    <h:form>
        <h:commandButton class="button-calc" value="Calcular / Recalcular Salários"
            action="#{pessoaBean.calcularSalarios}" rendered="#{not pessoaBean.salarioCalculado}" />

        <h:outputText value="Salários calculados com sucesso!" class="success-message"
            rendered="#{pessoaBean.salarioCalculado}" />

        <h:dataTable value="#{pessoaBean.pessoasVencimentoCredito}" var="p" border="1" cellpadding="5"
            rendered="#{not pessoaBean.salarioCalculado}">
            <h:column>
                <f:facet name="header">ID</f:facet>
                #{p.pessoa_id}
            </h:column>
            <h:column>
                <f:facet name="header">Nome</f:facet>
                #{p.nome_pessoa}
            </h:column>
            <h:column>
                <f:facet name="header">Cargo</f:facet>
                #{p.nome_cargo}
            </h:column>
            <h:column>
                <f:facet name="header">Salário Bruto</f:facet>
                #{p.salario}
            </h:column>
        </h:dataTable>



        <h:dataTable value="#{pessoaBean.pessoas}" var="p" border="1" cellpadding="5"
            rendered="#{pessoaBean.salarioCalculado}">
            <h:column>
                <f:facet name="header">ID</f:facet>
                #{p.pessoa_id}
            </h:column>
            <h:column>
                <f:facet name="header">Nome</f:facet>
                #{p.nome_pessoa}
            </h:column>
            <h:column>
                <f:facet name="header">Cargo</f:facet>
                #{p.nome_cargo}
            </h:column>
            <h:column>
                <f:facet name="header">Salário Líquido</f:facet>
                #{p.salario}
            </h:column>
        </h:dataTable>

    </h:form>
</h:body>

</html>